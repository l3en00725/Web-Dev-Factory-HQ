---
import Container from '../layout/Container.astro';

interface FAQItem {
  question: string;
  answer: string; // Could be PortableText, simplified to string here
}

interface Props {
  heading?: string;
  faqs?: FAQItem[];
}

const { heading, faqs = [] } = Astro.props;
---

<section class="py-20 bg-background">
  <Container size="md">
    {heading && (
      <h2 class="mb-12 text-center font-display text-3xl font-bold lg:text-4xl">{heading}</h2>
    )}

    <div class="space-y-4">
      {faqs.map((item) => (
        <details class="group rounded-xl border border-border bg-surface open:shadow-sm transition-all">
          <summary class="flex cursor-pointer list-none items-center justify-between p-6 font-medium text-foreground [&::-webkit-details-marker]:hidden">
            {item.question}
            <span class="ml-4 transition-transform duration-300 group-open:rotate-180">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
            </span>
          </summary>
          <div class="border-t border-border px-6 pb-6 pt-4 text-muted-foreground">
            {item.answer}
          </div>
        </details>
      ))}
    </div>
  </Container>
</section>
