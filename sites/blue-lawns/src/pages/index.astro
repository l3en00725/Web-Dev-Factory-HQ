---
import Layout from '../layouts/Base.astro';
import Hero from '../components/sections/Hero.astro';
import SocialProof from '../components/sections/SocialProof.astro';
import ServicesGrid from '../components/sections/ServicesGrid.astro';
import Benefits from '../components/sections/Benefits.astro';
import BeforeAfter from '../components/sections/BeforeAfter.astro';
import Testimonials from '../components/sections/Testimonials.astro';
import CTA from '../components/sections/CTA.astro';

import servicesData from '../content/services.json';
import settings from '../content/settings.json';

// Data Logic
const primaryServices = servicesData.filter(s => s.type === 'primary');
const secondaryServices = servicesData.filter(s => s.type === 'secondary');

const pageTitle = `${settings.title} | Premier Landscaping in Cape May County`;
const pageDescription = "Professional landscaping, lawn care, and hardscaping services for Avalon, Stone Harbor, Sea Isle City, and surrounding areas.";
---

<Layout 
  title={pageTitle}
  description={pageDescription}
  headerVariant="transparent"
>
  <main>
    {/* 1. Hero */}
    <Hero 
      title="Professional Landscaping<br/>& Lawn Care"
      subtitle="The trusted choice for homeowners in Avalon, Stone Harbor, and Sea Isle City. We create and maintain outdoor spaces that families love."
      ctaLabel="Get a Free Quote"
      ctaLink="/contact"
      secondaryCtaLabel="Our Services"
      secondaryCtaLink="/services"
      image="/images/blue-lawns-avalon-lawn-care-hero.svg"
      alignment="left"
    />

    {/* 2. Social Proof */}
    <SocialProof />

    {/* 3. Primary Services */}
    <div class="bg-white">
      <ServicesGrid 
        heading="Our Core Services" 
        subheading="Comprehensive care for your coastal property, from weekly maintenance to complete transformations."
        services={primaryServices}
        columns={3}
      />
    </div>

    {/* 4. Secondary Services */}
    <div class="bg-slate-50 border-t border-slate-200">
      <ServicesGrid 
        heading="More Capabilities" 
        subheading="Everything else you need to keep your home looking its best."
        services={secondaryServices}
        columns={4}
      />
    </div>

    {/* 5. Benefits */}
    <Benefits />

    {/* 6. Before/After */}
    <BeforeAfter />

    {/* 7. Testimonials */}
    <Testimonials />

    {/* 8. CTA */}
    <CTA />
  </main>
</Layout>
