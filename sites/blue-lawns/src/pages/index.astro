---
import Layout from '../layouts/Base.astro';
import Hero from '../components/sections/Hero.astro';
import SocialProof from '../components/sections/SocialProof.astro';
import ServicesGrid from '../components/sections/ServicesGrid.astro';
import Benefits from '../components/sections/Benefits.astro';
import BeforeAfter from '../components/sections/BeforeAfter.astro';
import Testimonials from '../components/sections/Testimonials.astro';
import CTA from '../components/sections/CTA.astro';

import servicesData from '../content/services.json';
import settings from '../content/settings.json';

import heroMain from '../assets/images/general/hero-main.jpg';
import beforeYard from '../assets/images/general/before-yard.jpg';
import afterYard from '../assets/images/general/after-yard.jpg';

// Data Logic
const primaryServices = servicesData.filter(s => s.type === 'primary');
const secondaryServices = servicesData.filter(s => s.type === 'secondary');

const pageTitle = `${settings.title} | Premier Landscaping in Cape May County`;
const pageDescription = "Professional landscaping, lawn care, and hardscaping services for Avalon, Stone Harbor, Sea Isle City, and surrounding areas.";
---

<Layout 
  title={pageTitle}
  description={pageDescription}
  headerVariant="transparent"
>
  <main>
    {/* 1. Hero */}
    <Hero 
      title="Professional Landscaping in Cape May County"
      subtitle="The most reliable crew in Cape May County. Licensed, insured, and obsessed with details."
      primaryCta={{ label: "Get a Free Quote", href: "/contact" }}
      backgroundImage={heroMain}
      alignment="left"
    />

    {/* 2. Social Proof */}
    <SocialProof />

    {/* 3. Primary Services */}
    <ServicesGrid 
      heading="Our Core Services" 
      services={primaryServices}
      columns={3}
    />

    {/* 4. Secondary Services */}
    <div class="bg-gray-50">
      <ServicesGrid 
        heading="More Capabilities" 
        services={secondaryServices}
        columns={4}
      />
    </div>

    {/* 5. Benefits */}
    <Benefits />

    {/* 6. Before/After */}
    <BeforeAfter 
      beforeImage={beforeYard}
      afterImage={afterYard}
    />

    {/* 7. Testimonials */}
    <Testimonials />

    {/* 8. CTA */}
    <CTA />
  </main>
</Layout>
