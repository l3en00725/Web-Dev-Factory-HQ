---
import Base from '../../layouts/Base.astro';
import Container from '../../components/layout/Container.astro';
import LocationCard from '../../components/LocationCard.astro';
import { generateBreadcrumbSchema } from '../../lib/structured-data/Breadcrumbs';
import settings from '../../content/settings.json';
import locations from '../../content/locations.json';

const title = `Where We Work | ${settings.title}`;
const subtitle = "Proudly serving homeowners across Cape May County.";
const description = "Professional landscaping and lawn care services across Cape May County. Serving Avalon, Stone Harbor, Sea Isle City, Cape May, Wildwood, and more.";

// Structured data
const siteUrl = settings.siteUrl;
const breadcrumbSchema = generateBreadcrumbSchema(
  [
    { name: 'Home', url: '/' },
    { name: 'Service Areas', url: '/locations' },
  ],
  siteUrl
);

const structuredData = {
  '@graph': [breadcrumbSchema],
};
---

<Base 
  title={`${title} | ${settings.title}`}
  description={description}
  structuredData={structuredData}
  headerVariant="solid"
>
  <section class="bg-gray-50 min-h-screen pt-32 pb-24">
    <Container>
      <div class="mb-16 text-center max-w-3xl mx-auto">
        <h1 class="font-display text-4xl font-bold lg:text-5xl mb-6 text-brand-navy">{title}</h1>
        <p class="text-xl text-slate-600 font-sans leading-relaxed">{subtitle}</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {locations.map((location) => (
          <LocationCard location={location} />
        ))}
      </div>
    </Container>
  </section>
</Base>